{"version":3,"names":["copyToClipboard","textToCopy","fallbackString","Promise","resolve","textArea","document","createElement","setAttribute","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","select","magicCopyFailed","cause","removeChild","window","prompt","successful","execCommand","err"],"sources":["copyToClipboard.ts"],"sourcesContent":["/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\n\ntype $TSFixMe = any\n\nexport default function copyToClipboard(\n  textToCopy: $TSFixMe,\n  fallbackString = 'Copy the URL below',\n): $TSFixMe {\n  return new Promise<void>((resolve) => {\n    const textArea = document.createElement('textarea')\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent',\n    } as $TSFixMe as string)\n\n    textArea.value = textToCopy\n    document.body.appendChild(textArea)\n    textArea.select()\n\n    const magicCopyFailed = (cause?: unknown) => {\n      document.body.removeChild(textArea)\n      // eslint-disable-next-line no-alert\n      window.prompt(fallbackString, textToCopy)\n      resolve()\n    }\n\n    try {\n      const successful = document.execCommand('copy')\n      if (!successful) {\n        return magicCopyFailed('copy command unavailable')\n      }\n      document.body.removeChild(textArea)\n      return resolve()\n    } catch (err) {\n      document.body.removeChild(textArea)\n      return magicCopyFailed(err)\n    }\n  })\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,eAAe,SAASA,eAAeA,CACrCC,UAAoB,EACpBC,cAAc,EACJ;EAAA,IADVA,cAAc;IAAdA,cAAc,GAAG,oBAAoB;EAAA;EAErC,OAAO,IAAIC,OAAO,CAAQC,OAAO,IAAK;IACpC,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IACnDF,QAAQ,CAACG,YAAY,CAAC,OAAO,EAAE;MAC7BC,QAAQ,EAAE,OAAO;MACjBC,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,KAAK;MACZC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE,CAAC;MACVC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE,MAAM;MACfC,SAAS,EAAE,MAAM;MACjBC,UAAU,EAAE;IACd,CAAuB,CAAC;IAExBb,QAAQ,CAACc,KAAK,GAAGlB,UAAU;IAC3BK,QAAQ,CAACc,IAAI,CAACC,WAAW,CAAChB,QAAQ,CAAC;IACnCA,QAAQ,CAACiB,MAAM,CAAC,CAAC;IAEjB,MAAMC,eAAe,GAAIC,KAAe,IAAK;MAC3ClB,QAAQ,CAACc,IAAI,CAACK,WAAW,CAACpB,QAAQ,CAAC;MACnC;MACAqB,MAAM,CAACC,MAAM,CAACzB,cAAc,EAAED,UAAU,CAAC;MACzCG,OAAO,CAAC,CAAC;IACX,CAAC;IAED,IAAI;MACF,MAAMwB,UAAU,GAAGtB,QAAQ,CAACuB,WAAW,CAAC,MAAM,CAAC;MAC/C,IAAI,CAACD,UAAU,EAAE;QACf,OAAOL,eAAe,CAAC,0BAA0B,CAAC;MACpD;MACAjB,QAAQ,CAACc,IAAI,CAACK,WAAW,CAACpB,QAAQ,CAAC;MACnC,OAAOD,OAAO,CAAC,CAAC;IAClB,CAAC,CAAC,OAAO0B,GAAG,EAAE;MACZxB,QAAQ,CAACc,IAAI,CAACK,WAAW,CAACpB,QAAQ,CAAC;MACnC,OAAOkB,eAAe,CAACO,GAAG,CAAC;IAC7B;EACF,CAAC,CAAC;AACJ"}