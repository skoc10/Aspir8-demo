{"version":3,"names":["h","Component","Fragment","_Symbol$for","Symbol","for","AddFiles","constructor","arguments","triggerFileInputClick","fileInput","click","triggerFolderInputClick","folderInput","triggerVideoCameraInputClick","mobileVideoFileInput","triggerPhotoCameraInputClick","mobilePhotoFileInput","onFileInputChange","event","props","handleInputChange","target","value","renderHiddenInput","isFolder","refCallback","className","hidden","tabIndex","webkitdirectory","type","name","multiple","maxNumberOfFiles","onChange","accept","allowedFileTypes","ref","renderHiddenCameraInput","nativeCameraFacingMode","typeToAccept","photo","video","capture","renderMyDeviceAcquirer","role","onClick","focusable","width","height","viewBox","d","fill","i18n","renderPhotoCamera","renderVideoCamera","fillRule","renderBrowseButton","text","onClickFn","numberOfAcquirers","acquirers","length","renderDropPasteBrowseTagline","browseFiles","browseFolders","lowerFMSelectionType","fileManagerSelectionType","camelFMSelectionType","charAt","toUpperCase","slice","class","disableLocalFiles","i18nArray","browse","renderAcquirer","acquirer","_this$props$activePic","id","activePickerPanel","showPanel","icon","renderAcquirers","acquirersWithoutLastTwo","lastTwoAcquirers","splice","map","style","renderSourcesList","showNativePhotoCameraButton","showNativeVideoCameraButton","list","myDeviceKey","push","key","elements","hasOnlyMyDevice","listWithoutLastTwo","lastTwo","renderList","l","_ref","renderPoweredByUppy","uppyBranding","linkText","uppy","href","rel","render","note","proudlyDisplayPoweredByUppy"],"sources":["AddFiles.tsx"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck Typing this file requires more work, skipping it to unblock the rest of the transition.\n\n/* eslint-disable react/destructuring-assignment */\nimport { h, Component, Fragment, type ComponentChild } from 'preact'\n\ntype $TSFixMe = any\n\nclass AddFiles extends Component {\n  fileInput: $TSFixMe\n\n  folderInput: $TSFixMe\n\n  mobilePhotoFileInput: $TSFixMe\n\n  mobileVideoFileInput: $TSFixMe\n\n  private triggerFileInputClick = () => {\n    this.fileInput.click()\n  }\n\n  private triggerFolderInputClick = () => {\n    this.folderInput.click()\n  }\n\n  private triggerVideoCameraInputClick = () => {\n    this.mobileVideoFileInput.click()\n  }\n\n  private triggerPhotoCameraInputClick = () => {\n    this.mobilePhotoFileInput.click()\n  }\n\n  private onFileInputChange = (event: $TSFixMe) => {\n    this.props.handleInputChange(event)\n\n    // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n    event.target.value = null // eslint-disable-line no-param-reassign\n  }\n\n  private renderHiddenInput = (isFolder: $TSFixMe, refCallback: $TSFixMe) => {\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        webkitdirectory={isFolder}\n        type=\"file\"\n        name=\"files[]\"\n        multiple={this.props.maxNumberOfFiles !== 1}\n        onChange={this.onFileInputChange}\n        accept={this.props.allowedFileTypes}\n        ref={refCallback}\n      />\n    )\n  }\n\n  private renderHiddenCameraInput = (\n    type: $TSFixMe,\n    nativeCameraFacingMode: $TSFixMe,\n    refCallback: $TSFixMe,\n  ) => {\n    const typeToAccept = { photo: 'image/*', video: 'video/*' }\n    const accept = typeToAccept[type]\n\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        type=\"file\"\n        name={`camera-${type}`}\n        onChange={this.onFileInputChange}\n        capture={nativeCameraFacingMode}\n        accept={accept}\n        ref={refCallback}\n      />\n    )\n  }\n\n  private renderMyDeviceAcquirer = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MyDevice\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerFileInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg\n              className=\"uppy-DashboardTab-iconMyDevice\"\n              aria-hidden=\"true\"\n              focusable=\"false\"\n              width=\"32\"\n              height=\"32\"\n              viewBox=\"0 0 32 32\"\n            >\n              <path\n                d=\"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z\"\n                fill=\"currentcolor\"\n                fill-rule=\"evenodd\"\n              />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">\n            {this.props.i18n('myDevice')}\n          </div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderPhotoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobilePhotoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerPhotoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg\n              aria-hidden=\"true\"\n              focusable=\"false\"\n              width=\"32\"\n              height=\"32\"\n              viewBox=\"0 0 32 32\"\n            >\n              <path\n                d=\"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\"\n                fill=\"#02B383\"\n                fill-rule=\"nonzero\"\n              />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">\n            {this.props.i18n('takePictureBtn')}\n          </div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderVideoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobileVideoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerVideoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg aria-hidden=\"true\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path\n                fill=\"#FF675E\"\n                fillRule=\"nonzero\"\n                d=\"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \"\n              />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">\n            {this.props.i18n('recordVideoBtn')}\n          </div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderBrowseButton = (text: $TSFixMe, onClickFn: $TSFixMe) => {\n    const numberOfAcquirers = this.props.acquirers.length\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\"\n        onClick={onClickFn}\n        data-uppy-super-focusable={numberOfAcquirers === 0}\n      >\n        {text}\n      </button>\n    )\n  }\n\n  private renderDropPasteBrowseTagline = (numberOfAcquirers: $TSFixMe) => {\n    const browseFiles = this.renderBrowseButton(\n      this.props.i18n('browseFiles'),\n      this.triggerFileInputClick,\n    )\n    const browseFolders = this.renderBrowseButton(\n      this.props.i18n('browseFolders'),\n      this.triggerFolderInputClick,\n    )\n\n    // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n    // to Camel\n    const lowerFMSelectionType = this.props.fileManagerSelectionType\n    const camelFMSelectionType =\n      lowerFMSelectionType.charAt(0).toUpperCase() +\n      lowerFMSelectionType.slice(1)\n\n    return (\n      <div class=\"uppy-Dashboard-AddFiles-title\">\n        {\n          // eslint-disable-next-line no-nested-ternary\n          this.props.disableLocalFiles ?\n            this.props.i18n('importFiles')\n          : numberOfAcquirers > 0 ?\n            this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {\n              browseFiles,\n              browseFolders,\n              browse: browseFiles,\n            })\n          : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {\n              browseFiles,\n              browseFolders,\n              browse: browseFiles,\n            })\n\n        }\n      </div>\n    )\n  }\n\n  private [Symbol.for('uppy test: disable unused locale key warning')]() {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth')\n    this.props.i18nArray('dropPasteFiles')\n    this.props.i18nArray('dropPasteFolders')\n    this.props.i18nArray('dropPasteImportBoth')\n    this.props.i18nArray('dropPasteImportFiles')\n    this.props.i18nArray('dropPasteImportFolders')\n  }\n\n  private renderAcquirer = (acquirer: $TSFixMe) => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id={acquirer.id}\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-cy={acquirer.id}\n          aria-controls={`uppy-DashboardContent-panel--${acquirer.id}`}\n          aria-selected={this.props.activePickerPanel?.id === acquirer.id}\n          data-uppy-super-focusable\n          onClick={() => this.props.showPanel(acquirer.id)}\n        >\n          <div className=\"uppy-DashboardTab-inner\">{acquirer.icon()}</div>\n          <div className=\"uppy-DashboardTab-name\">{acquirer.name}</div>\n        </button>\n      </div>\n    )\n  }\n\n  private renderAcquirers = (acquirers: $TSFixMe) => {\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const acquirersWithoutLastTwo = [...acquirers]\n    const lastTwoAcquirers = acquirersWithoutLastTwo.splice(\n      acquirers.length - 2,\n      acquirers.length,\n    )\n\n    return (\n      <>\n        {acquirersWithoutLastTwo.map((acquirer) =>\n          this.renderAcquirer(acquirer),\n        )}\n        <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n          {lastTwoAcquirers.map((acquirer) => this.renderAcquirer(acquirer))}\n        </span>\n      </>\n    )\n  }\n\n  private renderSourcesList = (\n    acquirers: $TSFixMe,\n    disableLocalFiles: $TSFixMe,\n  ) => {\n    const { showNativePhotoCameraButton, showNativeVideoCameraButton } =\n      this.props\n\n    let list = []\n\n    const myDeviceKey = 'myDevice'\n\n    if (!disableLocalFiles)\n      list.push({ key: myDeviceKey, elements: this.renderMyDeviceAcquirer() })\n    if (showNativePhotoCameraButton)\n      list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderPhotoCamera(),\n      })\n    if (showNativeVideoCameraButton)\n      list.push({\n        key: 'nativePhotoCameraButton',\n        elements: this.renderVideoCamera(),\n      })\n    list.push(\n      ...acquirers.map((acquirer: $TSFixMe) => ({\n        key: acquirer.id,\n        elements: this.renderAcquirer(acquirer),\n      })),\n    )\n\n    // doesn't make sense to show only a lonely \"My Device\"\n    const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey\n    if (hasOnlyMyDevice) list = []\n\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const listWithoutLastTwo = [...list]\n    const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length)\n\n    const renderList = (l: $TSFixMe) =>\n      l.map(({ key, elements }: $TSFixMe) => (\n        <Fragment key={key}>{elements}</Fragment>\n      ))\n\n    return (\n      <>\n        {this.renderDropPasteBrowseTagline(list.length)}\n\n        <div className=\"uppy-Dashboard-AddFiles-list\" role=\"tablist\">\n          {renderList(listWithoutLastTwo)}\n\n          <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n            {renderList(lastTwo)}\n          </span>\n        </div>\n      </>\n    )\n  }\n\n  private renderPoweredByUppy() {\n    const { i18nArray } = this.props as $TSFixMe\n\n    const uppyBranding = (\n      <span>\n        <svg\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          className=\"uppy-c-icon uppy-Dashboard-poweredByIcon\"\n          width=\"11\"\n          height=\"11\"\n          viewBox=\"0 0 11 11\"\n        >\n          <path\n            d=\"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\"\n            fillRule=\"evenodd\"\n          />\n        </svg>\n        <span className=\"uppy-Dashboard-poweredByUppy\">Uppy</span>\n      </span>\n    )\n\n    const linkText = i18nArray('poweredBy', { uppy: uppyBranding })\n\n    return (\n      <a\n        tabIndex={-1}\n        href=\"https://uppy.io\"\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        className=\"uppy-Dashboard-poweredBy\"\n      >\n        {linkText}\n      </a>\n    )\n  }\n\n  render(): ComponentChild {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode,\n    } = this.props\n\n    return (\n      <div className=\"uppy-Dashboard-AddFiles\">\n        {this.renderHiddenInput(false, (ref: $TSFixMe) => {\n          this.fileInput = ref\n        })}\n        {this.renderHiddenInput(true, (ref: $TSFixMe) => {\n          this.folderInput = ref\n        })}\n        {showNativePhotoCameraButton &&\n          this.renderHiddenCameraInput(\n            'photo',\n            nativeCameraFacingMode,\n            (ref: $TSFixMe) => {\n              this.mobilePhotoFileInput = ref\n            },\n          )}\n        {showNativeVideoCameraButton &&\n          this.renderHiddenCameraInput(\n            'video',\n            nativeCameraFacingMode,\n            (ref: $TSFixMe) => {\n              this.mobileVideoFileInput = ref\n            },\n          )}\n        {this.renderSourcesList(\n          this.props.acquirers,\n          this.props.disableLocalFiles,\n        )}\n        <div className=\"uppy-Dashboard-AddFiles-info\">\n          {this.props.note && (\n            <div className=\"uppy-Dashboard-note\">{this.props.note}</div>\n          )}\n          {this.props.proudlyDisplayPoweredByUppy &&\n            this.renderPoweredByUppy(this.props)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddFiles\n"],"mappings":"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"}